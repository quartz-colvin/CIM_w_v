---
title: "[v] across Cook Islands Māori"
subtitle: "A statistical analysis"
author: "Quartz Colvin"
institute: "Rutgers University"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    css: ["rutgers", "rutgers-fonts"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
# Introduction

- Kia orana kātoa! Ko 'ai Quartz tōku ingoa. 

- Kā tuatua au nō te Māori Kūki 'āirani i tēia rā.

- (I'm a beginner in the language, so this is about all I got, sorry hahaha)

```{r, echo=FALSE, out.width="50%"}
knitr::include_graphics("./slides/index_files/colang-postcard.png")
```


---

# Research questions

1. Are certain islands associated with more [v]-voicing than other islands? 

2. How does intensity of [v] vary by island? 

3. How does duration of [v] vary by island?

## Why though?

It's known across both Aotearoa (NZ) Māori and CIM that some speakers regularly pronounce [v] as [w], but it isn't clear to anyone who does this more and what conditions it!

---
# Cook Islands Māori (background)

- I work as a contract transcriber on a project documenting CIM, so I got this data from my supervisors (Ake ē Rolando, meitaki!)

- An Eastern Polynesian language, VSO is the unmarked word order

- Closely related, but definitely different from Aotearoa Māori

- Classified as Vulnerable

```{r, echo=FALSE, out.width="60%"}
knitr::include_graphics("./slides/index_files/cook-islands-flag.png")
```

---
# Cook Islands Māori (background)

```{r, echo=FALSE, out.width="75%", fig.cap="Map of Oceania."}
knitr::include_graphics("./slides/index_files/oceania-map.png")
```

---
# Cook Islands Māori (background)

```{r, echo=FALSE, out.width="50%", fig.cap="Map of Cook Islands."}
knitr::include_graphics("./slides/index_files/cook-islands-map.png")
```


---

# Set-up

- Load libraries and read the huge .csv file

```{r}
#| label: read-csv
#| message: false
#| warning: false

library("tidyverse")
library("tidyr")
library("here")
library("mgcv")

source(here::here("scripts", "libs.R"))

untidy_data <- read_csv(here("untidy_data", "cim-v-w-202410.csv"))

```

---
## Preview data

```{r}
#| label: glimpse-cim
#| message: false
#| echo: false
#| warning: false

glimpse(untidy_data)

```


**Omg.... I can fix her!**

---
## Tidy (1)

```{r}
#| label: tidy-cim
#| message: false
#| warning: false

dat <- untidy_data |>
  drop_na() |>   # remove rows that have NA values
  filter(TextGridLabel == "v") |>   # filter by 'v' for analysis
  pivot_longer(      # deal with all the f0 columns
    cols = c("f0_20.point", 
             "f0_50.point", 
             "f0_80.point"),
    names_to = "percent",    # names to 'percent' column
    values_to = "hz"      # values to one column called 'hz'
  ) |>
  arrange(island, Word) |>   # group by 'island', then 'word'
  select(island,      # pick which columns I want and rename some
         word = Word, 
         percent, hz, f2 = F2_midpoint, duration, 
         intensity = intensity_midpoint) |>
  write_csv("tidy_cim.csv")    # put tidy data in new .csv 

```

---
## Tidy (2)

We need to fix the names that we've converted to values under **'percent'**

```{r}
#| label: change-percents
#| warning: false
#| message: false

# fixing the original column names to only be the percent
# since they are all values for f0

dat$percent[dat$percent == 'f0_20.point'] <- "20"

dat$percent[dat$percent == 'f0_50.point'] <- "50"

dat$percent[dat$percent == 'f0_80.point'] <- "80"

```

---
# Tidy data 

```{r}
#| label: show-tidy-data
#| warning: false
#| message: false
#| echo: false

knitr::kable(head(dat))

```

- **Finally,** it doesn't hurt to look at and it only contains the data we need!

- **Percent:** the 20% 50% and 80% marks of the phoneme's total duration

- **Hz:** f0 measured in Hz at that percent of the phoneme's duration

- **f2:** f2 measured in Hz at the midpoint of the phoneme's duration

- **Duration:** total duration of the phoneme

- **Intensity:** intensity midpoint of the phoneme

---
# Duration by island

### Code chunk

```{r}
#| label: duration-by-island
#| warning: false
#| message: false
#| echo: true

mod1 <- lm(formula = duration ~ island, data = dat) |>
  ggplot() +
  aes(x = island, y = duration, color = island) +
  geom_boxplot() +
  labs(
    title = "Compare [v] duration by island",
    x = "Island",
    y = "Duration"
  )
```

---
## Boxplot for durations

```{r}
#| label: print-mod1
#| echo: false
#| out-height: "75%"

print(mod1)

```

---
# Intensity by island

### Code chunk

```{r}
#| label: intensity-by-island
#| warning: false
#| message: false
#| echo: true
#| out-width: "100%"

mod2 <- lm(formula = intensity ~ island, data = dat) |>
  ggplot() +
  aes(x = island, y = intensity, color = island) +
  geom_boxplot() +
  labs(
    title = "Compare [v] intensity by island",
    x = "Island",
    y = "Intensity"
  )
```

---
## Boxplot for intensities

```{r}
#| label: print-mod2
#| echo: false
#| out-height: "75%"

print(mod2)

```

---
# Voicing by island

### Useful info

**F0**

- [w] is voiceless, so F0 is super low or absent (below than 80 Hz = voiceless)

- [v] is voiced, so F0 is definitely there, and may be higher than for [w]

**F2**

- [w] usually has a lower F2 than [v]

---
# Voicing by island 

### What I'm doing

**F0**

- We use f0 values for the target phoneme to see how voicing for w~v differs across the four islands in this data set. 

- F0 values were extracted at the 20%, 50% and 80% points of the duration of the target phoneme. 

**F2**

- F2 values were only extracted at the midpoint of the phoneme.

---
# Voicing by island (f0)

```{r}
#| label: f0-traj-mod
#| warning: false
#| message: false
#| echo: true
#| out-width: "100%"

mod_f0 <- lm(formula = duration ~ hz + island, data = dat) |>
  ggplot() + 
  aes(x = duration, y = hz, color = island) +
  geom_point() +
  geom_smooth(
    method="glm",
    method.args = list(family = "poisson")
  ) +
  facet_wrap(~island) +
  labs(
    title = "F0 values by duration across the Cook Islands", 
    x = "Duration", 
    y = "F0 (Hz)"
  ) 
```

---
# Voicing by island (f0)

```{r}
#| label: print-modf0
#| echo: false
#| warning: false
#| message: false
#| out-width: "65%"

print(mod_f0)

```

---
# Voicing by island (f2)

```{r}
#| label: f2-by-island
#| warning: false
#| message: false
#| echo: true
#| out-width: "100%"

mod_f2 <- lm(formula = f2 ~ island, data = dat) |>
  ggplot() +
  aes(x = island, y = f2, color = island) +
  geom_boxplot() +
  labs(
    title = "Compare f2 by island",
    x = "Island",
    y = "f2 (Hz)"
  )
```

---
# Voicing by island (f2)

```{r}
#| label: print-mod-f2
#| message: false
#| warning: false
#| echo: false
#| out-width: "70%"

print(mod_f2)

```

---
# Results 

**Duration**

- Penrhyn has the longest average w~v durations and Rarotonga has the shortest

- Penrhyn has the largest range in durations

- Atiu and Mauke have pretty similar w~v durations

**Intensity**

- Penrhyn has the lowest average intensity midpoints (its entire range is lowest)

- Mauke and Rarotonga have pretty high ranges, but for Rarotonga the values are more concentrated around the mean (the box itself is smaller)

- Atiu has the smallest range for intensity and the values are concentrated around the mean 

---
# Formant results 

### Great, so what does this all mean?

**F0**

- Mauke is the only one that seems to *regularly* have voiceless [w] in place of 'v', but it also has the biggest overall range for f0 Hz

- the other 3 islands typically have f0 \> 100 Hz, so these tokens are voiced

- **SO,** we would expect f2 values to also say that Mauke has more [w] than [v] surfacing






---
# Formant results 

### The voicing question

- Based on the f2 boxplot, the lowest mean f2 is Atiu, then Penrhyn, Mauke, then Rarotonga

- a lower f2 indicates [w], so Atiu should, on average, have more [w]-surfacing and Rarotonga should have the least occurrances of [w]-surfacing (more [v])

- **So, it seems that f0 was not a good predictor for the [w] vs. [v] question, but it did reveal that Mauke has a higher rate of voiceless [w], when [w] is realized**

---
# Formant results

### The w~v question 

- a 'low f2' that indicates [w] is \<850 Hz

- **all** of these 4 islands have instances of [w], and their means are all slightly (or much) higher than this cut-off, so they all averagely surface as [v]

- based on the boxplots for f2, all of the islands except Penrhyn have a lot of tokens where 'v' surfaces as [w]


---

# I haven't done the formal stats results yet :')

# Meitaki!



